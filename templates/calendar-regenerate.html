{% if let Some(error_message) = error_message %}
<button ts-trigger="click" ts-req="/calendar/regenerate" ts-req-method="POST"
  class="flex-1 px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700">
  {{ "Regenerate"|t }}
</button>
<div ts-swap-push="#error-message" class="bg-red-50 border border-red-200 rounded-lg p-4 mb-4">
  <div class="text-sm text-red-700 mt-1">{{ error_message|t }}.</div>
</div>
{% else %}
<div ts-trigger="load" ts-action="remove #regenerate-confirm"
  class="flex-1 px-4 py-2 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300"></div>
<button id="regenerate-btn" disabled ts-trigger="click" ts-req="/calendar/regenerate" ts-swap-push="#regenerate-btn"
  class="flex px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700">
  <div class="flex-shrink-0 mt-0.5">
    <div class="animate-spin rounded-full h-5 w-5 border-2 border-red-200 border-t-red-700">
    </div>
  </div>
  <div class="ml-2">{{ "Regenerating..."|t }}</div>
  <div ts-trigger="load delay 1s" ts-req="/calendar/regenerate/status"></div>
</button>
<button id="regenerate-btn-sm" disabled ts-trigger="click" ts-req="/calendar/regenerate" ts-swap-push="#regenerate-btn-sm"
  class="px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 text-sm">
  <div class="flex-shrink-0 mt-0.5">
    <div class="animate-spin rounded-full h-5 w-5 border-2 border-red-200 border-t-red-700">
    </div>
  </div>
</button>

{% endif %}
