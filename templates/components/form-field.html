{# Form Field Component - Mobile Optimized (Story 5.4)
   Usage: {% include "components/form-field.html" with
          label="Email Address",
          name="email",
          type="email",
          required=true,
          error=form_errors.email %}

   Parameters:
   - label: Field label (required)
   - name: Input name attribute (required)
   - type: Input type (text, email, password, number, tel, url, date) - default: text
   - value: Input value
   - placeholder: Placeholder text
   - required: Boolean for required field
   - disabled: Boolean to disable field
   - error: Error message to display
   - help_text: Help text below input
   - class: Additional CSS classes for input
   - autocomplete: Autocomplete attribute for autofill support
#}

<div class="mb-4">
    <label for="{{ name }}" class="block text-sm font-medium text-gray-700 mb-1">
        {{ label }}
        {% if required %}
        <span class="text-error-500">*</span>
        {% endif %}
    </label>

    <input
        type="{{ type|default('text') }}"
        id="{{ name }}"
        name="{{ name }}"
        {% if value %}value="{{ value }}"{% endif %}
        {% if placeholder %}placeholder="{{ placeholder }}"{% endif %}
        {% if required %}required aria-required="true"{% endif %}
        {% if disabled %}disabled{% endif %}
        {% if autocomplete %}autocomplete="{{ autocomplete }}"{% endif %}
        {% if error %}aria-invalid="true" aria-describedby="{{ name }}-error"{% endif %}
        {% if help_text and not error %}aria-describedby="{{ name }}-help"{% endif %}
        class="w-full px-4 py-3 md:py-2 border rounded-lg focus:outline-none focus:ring-2 transition-colors text-base
               {% if error %}
                   border-red-300 focus:ring-error-500 focus:border-error-500
               {% else %}
                   border-gray-300 focus:ring-primary-500 focus:border-primary-500
               {% endif %}
               disabled:bg-gray-100 disabled:cursor-not-allowed
               {{ class|default('') }}"
        style="min-height: 44px;"
    />

    {% if error %}
    <p id="{{ name }}-error" class="mt-1 text-sm text-red-600" role="alert">
        {{ error }}
    </p>
    {% endif %}

    {% if help_text and not error %}
    <p id="{{ name }}-help" class="mt-1 text-sm text-gray-500">
        {{ help_text }}
    </p>
    {% endif %}
</div>
