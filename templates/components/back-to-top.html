{# Back to Top Button - Mobile optimized (Story 5.4) #}
{# Shows only when page is scrolled past 500px #}
<button
  id="back-to-top"
  class="fixed bottom-20 md:bottom-8 right-4 bg-primary-500 text-white p-3 rounded-full shadow-lg hover:bg-primary-600 transition-all opacity-0 pointer-events-none z-40"
  style="min-width: 48px; min-height: 48px;"
  aria-label="Back to top"
  title="Back to top"
>
  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
  </svg>
</button>

<script>
// Show/hide back to top button on scroll
(function() {
  const button = document.getElementById('back-to-top');
  if (!button) return;

  let scrollTimeout;

  function handleScroll() {
    clearTimeout(scrollTimeout);
    scrollTimeout = setTimeout(() => {
      if (window.scrollY > 500) {
        button.classList.remove('opacity-0', 'pointer-events-none');
        button.classList.add('opacity-100');
      } else {
        button.classList.add('opacity-0', 'pointer-events-none');
        button.classList.remove('opacity-100');
      }
    }, 100);
  }

  window.addEventListener('scroll', handleScroll, { passive: true });

  button.addEventListener('click', () => {
    window.scrollTo({
      top: 0,
      behavior: 'smooth'
    });
  });
})();
</script>
