!function(){"use strict";document.addEventListener("click",function(e){if(e.target.closest("[data-close-modal]")){const e=document.getElementById("regenerate-modal");if(e){document.activeElement;e.remove();const t=document.querySelector('[ts-req="/plan/regenerate/confirm"]');t&&t.focus()}}}),document.addEventListener("keydown",function(e){const t=document.getElementById("regenerate-modal");if(t){if("Escape"===e.key){e.preventDefault();const n=t.querySelector("[data-close-modal]");n&&n.click()}if("Enter"===e.key&&"TEXTAREA"!==e.target.tagName){const n=t.querySelector("form");n&&document.activeElement!==n.querySelector("[data-close-modal]")&&(e.preventDefault(),n.querySelector('button[type="submit"]').click())}if("Tab"===e.key){const n=t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),o=n[0],c=n[n.length-1];e.shiftKey?document.activeElement===o&&(e.preventDefault(),c.focus()):document.activeElement===c&&(e.preventDefault(),o.focus())}}});new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){if("regenerate-modal"===e.id){const t=e.querySelector("textarea#regeneration_reason"),n=e.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');t?t.focus():n&&n.focus()}})})}).observe(document.body,{childList:!0,subtree:!0})}();