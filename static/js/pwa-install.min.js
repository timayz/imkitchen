!function(){"use strict";let e=null,n=null;function o(){n=document.getElementById("pwa-install-button"),window.addEventListener("beforeinstallprompt",t),window.addEventListener("appinstalled",s),window.matchMedia("(display-mode: standalone)").matches&&(console.log("[PWA] App is already installed (running in standalone mode)"),n&&(n.style.display="none")),function(){const e=window.navigator.userAgent.toLowerCase(),n=/iphone|ipad|ipod/.test(e),o=/safari/.test(e)&&!/chrome|crios|fxios/.test(e);return n&&o}()&&n&&(n.style.display="none")}function t(o){console.log("[PWA] beforeinstallprompt event fired"),o.preventDefault(),e=o,n&&(n.style.display="block",n.addEventListener("click",l))}function l(){e?(console.log("[PWA] Showing install prompt"),e.prompt(),e.userChoice.then(function(n){console.log("[PWA] User choice:",n.outcome),"accepted"===n.outcome?(console.log("[PWA] User accepted installation"),console.log("[PWA] Analytics: Install accepted")):(console.log("[PWA] User dismissed installation"),console.log("[PWA] Analytics: Install dismissed")),e=null})):console.log("[PWA] No deferred prompt available")}function s(e){console.log("[PWA] App installed successfully"),n&&(n.style.display="none"),console.log("[PWA] Analytics: Install completed")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o()}();